---
title: "death_visuals"
output: html_document
---

```{r, collapse = TRUE}
library(tidyverse)
library(plotly)
library(rgdal)
library(raster)
library(sf)
library(spatialEco)
library(viridis)

knitr::opts_chunk$set(
  fig.width = 6,
  fig.asp = .6,
  out.width = "90%"
)
theme_set(theme_minimal() + theme(legend.position = "bottom"))
options(
  ggplot2.continuous.colour = "viridis",

  ggplot2.continuous.fill = "viridis"
)
scale_colour_discrete = scale_colour_viridis_d
scale_fill_discrete = scale_fill_viridis_d
```

```{r, collapse = TRUE}
covid_death_sdf = st_read("deathrate_map.shp") 


fig <- ggplotly(
  ggplot(covid_death_sdf) +
    geom_sf(aes(fill = cum_death)) +
    theme(legend.text = element_text(size = 6), 
        legend.position = 'right', axis.text.x = element_text(angle = 45)) +
    labs(
    title = "Average Death Rate per 100,000 people \n from March - September 2020 by ZCTA",
    x = "Latitude",
    y = "Longitude", fill = "Average Death Rate\n (deaths/100,000)")) 
  
fig

```

